{"ast":null,"code":"var _jsxFileName = \"/home/nirav/got_battle/battleui/src/home.js\";\nimport React, { Component, Fragment } from 'react';\nimport axios from 'axios';\nimport config from './constant';\nimport BattleDetails from './battleDetails';\nimport { AutoComplete, Layout } from 'antd';\nconst {\n  Header,\n  Content,\n  Footer\n} = Layout;\nconst {\n  Option\n} = AutoComplete;\n\nclass Home extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      search: '',\n      suggestions: [],\n      showSuggestion: false,\n      data: [],\n      showData: false\n    };\n\n    this.showDetails = name => {\n      axios.get(`${config.baseUrl}/details/?name=${name}`).then(res => {\n        if (res.data) {\n          this.setState({ ...this.state,\n            data: res.data.data,\n            showData: true\n          });\n        }\n      }).catch(err => console.log(err));\n    };\n\n    this.onChange = event => {\n      if (event.length > 2) {\n        this.setState({ ...this.state,\n          search: event\n        });\n      }\n\n      if (this.state.search.length > 2) {\n        axios.get(`${config.baseUrl}/search/?name=${this.state.search}`).then(res => {\n          console.log(res.data.data);\n          this.setState({ ...this.state,\n            suggestions: res.data.data,\n            showSuggestion: true\n          });\n        }).catch(err => console.log(err));\n      }\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Layout, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(AutoComplete, {\n      style: {\n        'width': '100%'\n      },\n      onSelect: this.showDetails,\n      onChange: this.onChange,\n      placeholder: \"Search Battles here...\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 25\n      }\n    }, this.state.showSuggestion && this.state.suggestions.map(item => /*#__PURE__*/React.createElement(Option, {\n      key: item.id,\n      value: item.name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 37\n      }\n    }, item.name))))), this.state.showData && /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Layout, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Content, {\n      style: {\n        'height': '100%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 26\n      }\n    }, /*#__PURE__*/React.createElement(BattleDetails, {\n      details: this.state.data,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 61\n      }\n    }))), /*#__PURE__*/React.createElement(Layout, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'center'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 33\n      }\n    }, \"The Battle was won by \", this.state.data[0].attacker_outcome === 'win' ? this.state.data[0].attacker_king : this.state.data[0].defender_king), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 33\n      }\n    }, \"The Battle was held at  \", this.state.data[0].location, \" in year \", this.state.data[0].year), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 33\n      }\n    }, \"The Battle region was  \", this.state.data[0].region), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 33\n      }\n    }, \"The Battle type was \", this.state.data[0].battle_type))))));\n  }\n\n}\n\nexport default Home;","map":{"version":3,"sources":["/home/nirav/got_battle/battleui/src/home.js"],"names":["React","Component","Fragment","axios","config","BattleDetails","AutoComplete","Layout","Header","Content","Footer","Option","Home","state","search","suggestions","showSuggestion","data","showData","showDetails","name","get","baseUrl","then","res","setState","catch","err","console","log","onChange","event","length","render","map","item","id","display","justifyContent","attacker_outcome","attacker_king","defender_king","location","year","region","battle_type"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from 'react'\nimport axios from 'axios'\nimport config from './constant'\nimport BattleDetails from './battleDetails'\nimport { AutoComplete ,Layout } from 'antd';\n\nconst { Header, Content, Footer } = Layout;\n\nconst { Option } = AutoComplete\n\nclass Home extends Component {\n    state = {\n        search: '',\n        suggestions: [],\n        showSuggestion: false,\n        data: [],\n        showData: false\n    }\n\n    showDetails = (name) => {\n        axios.get(`${config.baseUrl}/details/?name=${name}`)\n            .then(res => {\n                if (res.data) {\n                    this.setState({\n                        ...this.state,\n                        data: res.data.data,\n                        showData:true\n                    })\n                }\n            })\n            .catch(err => console.log(err))\n    }\n\n    onChange = (event) => {\n        if (event.length > 2) {\n            this.setState({\n                ...this.state,\n                search: event\n            })\n        }\n\n        if (this.state.search.length > 2) {\n            axios.get(`${config.baseUrl}/search/?name=${this.state.search}`)\n                .then(res => {\n                    console.log(res.data.data)\n\n                    this.setState({\n                        ...this.state,\n                        suggestions: res.data.data,\n                        showSuggestion: true\n                    })\n\n                })\n                .catch(err => console.log(err))\n        }\n    }\n\n    render() {\n        return (\n            <Fragment>\n                  <Layout>\n                    <Header>\n                        <AutoComplete \n                            style={{\n                            'width': '100%'\n                            }}\n                            onSelect = {this.showDetails}\n                            onChange={this.onChange}\n                            placeholder=\"Search Battles here...\"\n                        >\n\n                            {this.state.showSuggestion && this.state.suggestions.map(item => (\n                                    <Option key={item.id}  value={item.name}>\n                                    {item.name}\n                                    </Option>\n                                ))}\n\n                        </AutoComplete>\n                    </Header>\n                    </Layout>\n                    {this.state.showData && \n                    <div>\n\n                    <Layout>\n                         <Content style={{'height':'100%'}}><BattleDetails details = {this.state.data}/></Content>\n                    </Layout>\n                    <Layout>\n                        <Footer>\n                            <div style={{display:'flex',justifyContent:'center'}}>\n                                <div>The Battle was won by {this.state.data[0].attacker_outcome === 'win' ? this.state.data[0].attacker_king : this.state.data[0].defender_king}</div>\n                                <div>The Battle was held at  {this.state.data[0].location} in year {this.state.data[0].year}</div>\n                                <div>The Battle region was  {this.state.data[0].region}</div>\n                                <div>The Battle type was {this.state.data[0].battle_type}</div>\n                            </div>\n                        </Footer>\n                    </Layout>\n                    </div>}\n            </Fragment>\n        )\n    }\n}\n\nexport default Home;"]},"metadata":{},"sourceType":"module"}