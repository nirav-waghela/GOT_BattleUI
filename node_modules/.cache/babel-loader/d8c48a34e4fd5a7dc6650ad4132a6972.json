{"ast":null,"code":"var _jsxFileName = \"/home/nirav/got_battle/battleui/got_battle/src/home.js\";\nimport React, { Component, Fragment } from 'react';\nimport axios from 'axios';\nimport config from './constant';\nimport Suggestion from './suggestion';\n\nclass Home extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      search: '',\n      suggestions: [],\n      showSuggestion: false,\n      data: {}\n    };\n\n    this.showDetails = id => {\n      axios.get(`${config.baseUrl}/details/?id=${id}`).then(res => {\n        if (res.data) {\n          this.setState({ ...this.state,\n            data: res.data\n          });\n        }\n      }).catch(err => console.log(err));\n    };\n\n    this.querySearch = event => {\n      if (this.input.value.length > 2) {\n        this.setState({ ...this.state,\n          search: this.input.value\n        });\n      }\n\n      if (this.state.search.length > 1) {\n        axios.get(`${config.baseUrl}/search/?name=${this.state.search}`).then(res => {\n          console.log(res.data);\n          this.setState({ ...this.state,\n            suggestions: res.data,\n            showSuggestion: true\n          });\n        }).catch(err => console.log(err));\n      }\n    };\n  }\n\n  render() {\n    console.log(this.state.suggestions, \"inrender\");\n    return /*#__PURE__*/React.createElement(Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      ref: input => this.input = input,\n      onChange: event => this.querySearch(event),\n      name: \"battleSearch\",\n      placeholder: \"Search Battles\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 21\n      }\n    })), this.state.showSuggestion && /*#__PURE__*/React.createElement(Suggestion, {\n      showDetails: this.showDetails,\n      results: this.state.suggestions,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 25\n      }\n    }));\n  }\n\n}\n\nexport default Home;","map":{"version":3,"sources":["/home/nirav/got_battle/battleui/got_battle/src/home.js"],"names":["React","Component","Fragment","axios","config","Suggestion","Home","state","search","suggestions","showSuggestion","data","showDetails","id","get","baseUrl","then","res","setState","catch","err","console","log","querySearch","event","input","value","length","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,YAAnB;AACA,OAAOC,UAAP,MAAuB,cAAvB;;AAGA,MAAMC,IAAN,SAAmBL,SAAnB,CAA6B;AAAA;AAAA;AAAA,SACzBM,KADyB,GACjB;AACJC,MAAAA,MAAM,EAAE,EADJ;AAEJC,MAAAA,WAAW,EAAE,EAFT;AAGJC,MAAAA,cAAc,EAAE,KAHZ;AAIJC,MAAAA,IAAI,EAAE;AAJF,KADiB;;AAAA,SAQzBC,WARyB,GAQVC,EAAD,IAAQ;AAClBV,MAAAA,KAAK,CAACW,GAAN,CAAW,GAAEV,MAAM,CAACW,OAAQ,gBAAeF,EAAG,EAA9C,EACKG,IADL,CACUC,GAAG,IAAI;AACT,YAAIA,GAAG,CAACN,IAAR,EAAc;AACV,eAAKO,QAAL,CAAc,EACV,GAAG,KAAKX,KADE;AAEVI,YAAAA,IAAI,EAAEM,GAAG,CAACN;AAFA,WAAd;AAIH;AACJ,OARL,EASKQ,KATL,CASWC,GAAG,IAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CATlB;AAUH,KAnBwB;;AAAA,SAqBzBG,WArByB,GAqBVC,KAAD,IAAW;AACrB,UAAI,KAAKC,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,GAA0B,CAA9B,EAAiC;AAC7B,aAAKT,QAAL,CAAc,EACV,GAAG,KAAKX,KADE;AAEVC,UAAAA,MAAM,EAAE,KAAKiB,KAAL,CAAWC;AAFT,SAAd;AAIH;;AAGD,UAAI,KAAKnB,KAAL,CAAWC,MAAX,CAAkBmB,MAAlB,GAA2B,CAA/B,EAAkC;AAC9BxB,QAAAA,KAAK,CAACW,GAAN,CAAW,GAAEV,MAAM,CAACW,OAAQ,iBAAgB,KAAKR,KAAL,CAAWC,MAAO,EAA9D,EACKQ,IADL,CACUC,GAAG,IAAI;AACTI,UAAAA,OAAO,CAACC,GAAR,CAAYL,GAAG,CAACN,IAAhB;AACA,eAAKO,QAAL,CAAc,EACV,GAAG,KAAKX,KADE;AAEVE,YAAAA,WAAW,EAAEQ,GAAG,CAACN,IAFP;AAGVD,YAAAA,cAAc,EAAE;AAHN,WAAd;AAMH,SATL,EAUKS,KAVL,CAUWC,GAAG,IAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAVlB;AAWH;AACJ,KA3CwB;AAAA;;AA4CzBQ,EAAAA,MAAM,GAAG;AACLP,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKf,KAAL,CAAWE,WAAvB,EAAoC,UAApC;AACA,wBACI,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAO,MAAA,IAAI,EAAC,MAAZ;AACI,MAAA,GAAG,EAAGgB,KAAD,IAAW,KAAKA,KAAL,GAAaA,KADjC;AAEI,MAAA,QAAQ,EAAGD,KAAD,IAAW,KAAKD,WAAL,CAAiBC,KAAjB,CAFzB;AAGI,MAAA,IAAI,EAAC,cAHT;AAII,MAAA,WAAW,EAAC,gBAJhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CADJ,EAQS,KAAKjB,KAAL,CAAWG,cAAX,iBACG,oBAAC,UAAD;AAAY,MAAA,WAAW,EAAE,KAAKE,WAA9B;AAA2C,MAAA,OAAO,EAAE,KAAKL,KAAL,CAAWE,WAA/D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MATZ,CADJ;AAcH;;AA5DwB;;AA+D7B,eAAeH,IAAf","sourcesContent":["import React, { Component, Fragment } from 'react'\nimport axios from 'axios'\nimport config from './constant'\nimport Suggestion from './suggestion'\n\n\nclass Home extends Component {\n    state = {\n        search: '',\n        suggestions: [],\n        showSuggestion: false,\n        data: {}\n    }\n\n    showDetails = (id) => {\n        axios.get(`${config.baseUrl}/details/?id=${id}`)\n            .then(res => {\n                if (res.data) {\n                    this.setState({\n                        ...this.state,\n                        data: res.data\n                    })\n                }\n            })\n            .catch(err => console.log(err))\n    }\n\n    querySearch = (event) => {\n        if (this.input.value.length > 2) {\n            this.setState({\n                ...this.state,\n                search: this.input.value\n            })\n        }\n\n\n        if (this.state.search.length > 1) {\n            axios.get(`${config.baseUrl}/search/?name=${this.state.search}`)\n                .then(res => {\n                    console.log(res.data)\n                    this.setState({\n                        ...this.state,\n                        suggestions: res.data,\n                        showSuggestion: true\n                    })\n\n                })\n                .catch(err => console.log(err))\n        }\n    }\n    render() {\n        console.log(this.state.suggestions, \"inrender\")\n        return (\n            <Fragment>\n                <div>\n                    <input type='text'\n                        ref={(input) => this.input = input}\n                        onChange={(event) => this.querySearch(event)}\n                        name=\"battleSearch\"\n                        placeholder='Search Battles' />\n                </div>\n                    {this.state.showSuggestion &&\n                        <Suggestion showDetails={this.showDetails} results={this.state.suggestions} />}\n                \n            </Fragment>\n        )\n    }\n}\n\nexport default Home;"]},"metadata":{},"sourceType":"module"}